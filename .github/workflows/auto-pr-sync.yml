name: ðŸ”„ Auto PR Synchronization (CLI)

on:
  push:
    branches:
      - 'Updates/**'
jobs:
  create-pr:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      - name: Verify gh is installed
        run: gh --version
      - name: Create Pull Request
        env:
          GH_TOKEN: ${{ secrets.PR_CREATOR_TOKEN }}
        run: |
                  echo "Token length: ${#GH_TOKEN}"
                  gh auth status
                  # FINAL FIX: Removed the unsupported '--reuse-existing' flag.
                  gh pr create \
                    --title "Auto PR: ${{ github.ref_name }}" \
                    --body "Auto PR created by bot" \
                    --head "${{ github.ref_name }}" \
                    --base "main" \
                    --draft \
                    --fill # This flag is often sufficient to trigger an update/sync on an existing PR
